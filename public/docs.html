<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HJS API Â· æ–‡æ¡£</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:wght@400;500;600&display=swap');
        * { font-family: 'Inter', system-ui, sans-serif; }
        code, pre { font-family: 'JetBrains Mono', monospace !important; }
        body { background: #0a0a0a; }
        .endpoint { border-left: 3px solid #5ee0c0; }
        .method-post { color: #5ee0c0; }
        .method-get { color: #96c0f9; }
        .method-delete { color: #f996b5; }
        .lang-btn { transition: all 0.2s; }
    </style>
</head>
<body class="bg-[#0a0a0a] text-[#e5e5e5] antialiased">
    <div class="max-w-5xl mx-auto px-4 py-8">
        <!-- Header with Language Switcher -->
        <div class="mb-8">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold text-white" id="page-title">HJS API æ–‡æ¡£</h1>
                    <p class="text-gray-400 mt-2" id="page-subtitle">ç»“æ„åŒ–è¿½æº¯åè®® Â· å®ç°å±‚æœåŠ¡</p>
                </div>
                <div class="flex gap-2">
                    <button onclick="switchLang('zh')" id="lang-zh" class="lang-btn px-3 py-1 rounded-md bg-teal-600 text-white text-sm hover:bg-teal-700">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>
                    <button onclick="switchLang('en')" id="lang-en" class="lang-btn px-3 py-1 rounded-md bg-gray-800 text-gray-300 text-sm hover:bg-gray-700">ğŸ‡ºğŸ‡¸ English</button>
                </div>
            </div>
        </div>

        <!-- Content -->
        <div class="space-y-6">
            <!-- è®¤è¯éƒ¨åˆ† -->
            <div class="mb-8 p-6 rounded-lg border border-gray-800 bg-gray-900/50">
                <h2 class="text-xl font-semibold text-white mb-4" data-i18n="auth.title">ğŸ”‘ è®¤è¯æ–¹å¼</h2>
                <p class="text-gray-300 mb-3" data-i18n="auth.desc">æ‰€æœ‰ API è¯·æ±‚éƒ½éœ€è¦åœ¨ Header ä¸­æºå¸¦ API Keyï¼š</p>
                <pre class="bg-gray-800 p-3 rounded text-sm text-gray-300"><code>X-API-Key: your-api-key-here</code></pre>
                <p class="text-gray-400 text-sm mt-2" data-i18n="auth.note">åœ¨ <a href="/console.html" class="text-teal-400">å¼€å‘è€…æ§åˆ¶å°</a> å¯ä»¥ç”Ÿæˆå’Œç®¡ç† API Keyã€‚</p>
            </div>

            <!-- POST /judgments -->
            <div class="p-6 rounded-lg border border-gray-800 bg-gray-900/50 endpoint">
                <div class="flex items-center gap-3 mb-3">
                    <span class="method-post font-bold">POST</span>
                    <code class="text-lg">/judgments</code>
                </div>
                <p class="text-gray-400 mb-4" data-i18n="endpoint.post.desc">è®°å½•ä¸€æ¡åˆ¤æ–­äº‹ä»¶ï¼Œè¿”å›å”¯ä¸€çš„è®°å½• IDã€‚</p>
                
                <h3 class="font-semibold text-white mb-2" data-i18n="common.headers">è¯·æ±‚å¤´</h3>
                <pre class="bg-gray-800 p-3 rounded text-sm text-gray-300 mb-4"><code>Content-Type: application/json
X-API-Key: your-api-key</code></pre>

                <h3 class="font-semibold text-white mb-2" data-i18n="common.body">è¯·æ±‚ä½“</h3>
                <pre class="bg-gray-800 p-3 rounded text-sm text-gray-300 mb-4"><code>{
  "entity": "alice@bank.com",  // å¿…å¡«ï¼Œåšå‡ºåˆ¤æ–­çš„å®ä½“
  "action": "loan_approved",   // å¿…å¡«ï¼Œè¢«åˆ¤æ–­çš„è¡Œä¸º
  "scope": {"amount": 100000}, // å¯é€‰ï¼Œåˆ¤æ–­çš„ä½œç”¨åŸŸ
  "timestamp": "2026-02-17T..." // å¯é€‰ï¼Œåˆ¤æ–­æ—¶é—´ï¼Œé»˜è®¤æœåŠ¡å™¨æ—¶é—´
}</code></pre>

                <h3 class="font-semibold text-white mb-2" data-i18n="common.response">å“åº”ç¤ºä¾‹</h3>
                <pre class="bg-gray-800 p-3 rounded text-sm text-gray-300"><code>{
  "id": "jgd_1742318412345_abc1",
  "status": "recorded",
  "protocol": "HJS/1.0",
  "timestamp": "2026-02-17T09:30:15.123Z"
}</code></pre>
            </div>

            <!-- GET /judgments/:id -->
            <div class="p-6 rounded-lg border border-gray-800 bg-gray-900/50 endpoint">
                <div class="flex items-center gap-3 mb-3">
                    <span class="method-get font-bold">GET</span>
                    <code class="text-lg">/judgments/{id}</code>
                </div>
                <p class="text-gray-400 mb-4" data-i18n="endpoint.get.desc">æ ¹æ® ID æŸ¥è¯¢å®Œæ•´çš„åˆ¤æ–­è®°å½•ã€‚</p>
                
                <h3 class="font-semibold text-white mb-2" data-i18n="common.headers">è¯·æ±‚å¤´</h3>
                <pre class="bg-gray-800 p-3 rounded text-sm text-gray-300 mb-4"><code>X-API-Key: your-api-key</code></pre>

                <h3 class="font-semibold text-white mb-2" data-i18n="common.response">å“åº”ç¤ºä¾‹</h3>
                <pre class="bg-gray-800 p-3 rounded text-sm text-gray-300"><code>{
  "id": "jgd_1742318412345_abc1",
  "entity": "alice@bank.com",
  "action": "loan_approved",
  "scope": {"amount": 100000},
  "timestamp": "2026-02-17T09:30:15.083Z",
  "recorded_at": "2026-02-17T09:30:15.123Z",
  "ots_proof": null,
  "ots_verified": false
}</code></pre>
            </div>

            <!-- å¯¼å‡º JSON -->
            <div class="p-6 rounded-lg border border-gray-800 bg-gray-900/50 endpoint">
                <div class="flex items-center gap-3 mb-3">
                    <span class="method-get font-bold">GET</span>
                    <code class="text-lg">/judgments/{id}?format=json</code>
                </div>
                <p class="text-gray-400 mb-4" data-i18n="endpoint.json.desc">ä¸‹è½½ JSON æ ¼å¼çš„è®°å½•æ–‡ä»¶ã€‚</p>
                
                <h3 class="font-semibold text-white mb-2" data-i18n="common.headers">è¯·æ±‚å¤´</h3>
                <pre class="bg-gray-800 p-3 rounded text-sm text-gray-300"><code>X-API-Key: your-api-key</code></pre>
            </div>

            <!-- å¯¼å‡º PDF -->
            <div class="p-6 rounded-lg border border-gray-800 bg-gray-900/50 endpoint">
                <div class="flex items-center gap-3 mb-3">
                    <span class="method-get font-bold">GET</span>
                    <code class="text-lg">/judgments/{id}?format=pdf</code>
                </div>
                <p class="text-gray-400 mb-4" data-i18n="endpoint.pdf.desc">ä¸‹è½½å¸¦äºŒç»´ç çš„ PDF æ ¼å¼è®°å½•æ–‡ä»¶ï¼Œé€‚åˆæ‰“å°å’Œå­˜æ¡£ã€‚</p>
                
                <h3 class="font-semibold text-white mb-2" data-i18n="common.headers">è¯·æ±‚å¤´</h3>
                <pre class="bg-gray-800 p-3 rounded text-sm text-gray-300"><code>X-API-Key: your-api-key</code></pre>
            </div>

            <!-- åˆ—è¡¨æŸ¥è¯¢ -->
            <div class="p-6 rounded-lg border border-gray-800 bg-gray-900/50 endpoint">
                <div class="flex items-center gap-3 mb-3">
                    <span class="method-get font-bold">GET</span>
                    <code class="text-lg">/judgments?entity=xxx&from=...&to=...&page=1&limit=20</code>
                </div>
                <p class="text-gray-400 mb-4" data-i18n="endpoint.list.desc">åˆ†é¡µæŸ¥è¯¢è®°å½•åˆ—è¡¨ï¼Œæ”¯æŒæŒ‰å®ä½“å’Œæ—¶é—´ç­›é€‰ã€‚</p>
                
                <h3 class="font-semibold text-white mb-2" data-i18n="common.headers">è¯·æ±‚å¤´</h3>
                <pre class="bg-gray-800 p-3 rounded text-sm text-gray-300 mb-4"><code>X-API-Key: your-api-key</code></pre>

                <h3 class="font-semibold text-white mb-2">æŸ¥è¯¢å‚æ•°</h3>
                <table class="w-full text-sm text-gray-300">
                    <tr><td class="py-1"><code>entity</code></td><td>æŒ‰å®ä½“ç­›é€‰</td></tr>
                    <tr><td class="py-1"><code>from</code></td><td>å¼€å§‹æ—¶é—´ (ISO 8601)</td></tr>
                    <tr><td class="py-1"><code>to</code></td><td>ç»“æŸæ—¶é—´ (ISO 8601)</td></tr>
                    <tr><td class="py-1"><code>page</code></td><td>é¡µç ï¼Œé»˜è®¤ 1</td></tr>
                    <tr><td class="py-1"><code>limit</code></td><td>æ¯é¡µæ¡æ•°ï¼Œé»˜è®¤ 20ï¼Œæœ€å¤§ 100</td></tr>
                </table>
            </div>

            <!-- åˆ—è¡¨å¯¼å‡º -->
            <div class="p-6 rounded-lg border border-gray-800 bg-gray-900/50 endpoint">
                <div class="flex items-center gap-3 mb-3">
                    <span class="method-get font-bold">GET</span>
                    <code class="text-lg">/judgments?format=json&entity=...</code>
                </div>
                <p class="text-gray-400 mb-4" data-i18n="endpoint.export.desc">ä¸‹è½½ç­›é€‰åçš„è®°å½•åˆ—è¡¨ä¸º JSON æ–‡ä»¶ã€‚</p>
                
                <h3 class="font-semibold text-white mb-2" data-i18n="common.headers">è¯·æ±‚å¤´</h3>
                <pre class="bg-gray-800 p-3 rounded text-sm text-gray-300"><code>X-API-Key: your-api-key</code></pre>
            </div>

            <!-- ä¸‹è½½ OTS è¯æ˜ -->
            <div class="p-6 rounded-lg border border-gray-800 bg-gray-900/50 endpoint">
                <div class="flex items-center gap-3 mb-3">
                    <span class="method-get font-bold">GET</span>
                    <code class="text-lg">/judgments/{id}/proof</code>
                </div>
                <p class="text-gray-400 mb-4" data-i18n="endpoint.proof.desc">ä¸‹è½½ OpenTimestamps è¯æ˜æ–‡ä»¶ï¼ˆ.otsï¼‰ï¼Œå¯ç”¨äºç‹¬ç«‹éªŒè¯ã€‚</p>
                
                <h3 class="font-semibold text-white mb-2" data-i18n="common.headers">è¯·æ±‚å¤´</h3>
                <pre class="bg-gray-800 p-3 rounded text-sm text-gray-300"><code>X-API-Key: your-api-key</code></pre>
            </div>

            <!-- å¼€å‘è€…å¯†é’¥ç®¡ç† -->
            <div class="p-6 rounded-lg border border-gray-800 bg-gray-900/50 endpoint">
                <h2 class="text-xl font-semibold text-white mb-4">ğŸ”§ å¼€å‘è€…å¯†é’¥ç®¡ç†</h2>
                
                <div class="mb-4">
                    <div class="flex items-center gap-3 mb-2">
                        <span class="method-post font-bold">POST</span>
                        <code>/developer/keys</code>
                    </div>
                    <p class="text-gray-400 text-sm">ç”Ÿæˆæ–° API å¯†é’¥</p>
                    <pre class="bg-gray-800 p-3 rounded text-sm text-gray-300 mt-2"><code>{
  "email": "user@example.com",
  "name": "production-key"
}</code></pre>
                </div>

                <div class="mb-4">
                    <div class="flex items-center gap-3 mb-2">
                        <span class="method-get font-bold">GET</span>
                        <code>/developer/keys?email=...</code>
                    </div>
                    <p class="text-gray-400 text-sm">æŸ¥è¯¢æŸé‚®ç®±ä¸‹çš„æ‰€æœ‰å¯†é’¥</p>
                </div>

                <div>
                    <div class="flex items-center gap-3 mb-2">
                        <span class="method-delete font-bold">DELETE</span>
                        <code>/developer/keys/{key}?email=...</code>
                    </div>
                    <p class="text-gray-400 text-sm">åŠé”€æŒ‡å®šå¯†é’¥</p>
                </div>
            </div>
        </div>

        <!-- é”™è¯¯ç  -->
        <div class="mt-8 p-6 rounded-lg border border-gray-800 bg-gray-900/50">
            <h2 class="text-xl font-semibold text-white mb-4" data-i18n="errors.title">âš ï¸ é”™è¯¯ç </h2>
            <table class="w-full text-sm text-gray-300">
                <tr><td class="py-1"><code>400</code></td><td>ç¼ºå°‘å¿…å¡«å­—æ®µ</td></tr>
                <tr><td class="py-1"><code>401</code></td><td>ç¼ºå°‘æˆ–æ— æ•ˆçš„ API Key</td></tr>
                <tr><td class="py-1"><code>404</code></td><td>è®°å½•ä¸å­˜åœ¨</td></tr>
                <tr><td class="py-1"><code>429</code></td><td>è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¶…å‡ºé™åˆ¶</td></tr>
                <tr><td class="py-1"><code>500</code></td><td>æœåŠ¡å™¨é”™è¯¯</td></tr>
            </table>
        </div>

        <!-- é€Ÿç‡é™åˆ¶ -->
        <div class="mt-8 p-6 rounded-lg border border-gray-800 bg-gray-900/50">
            <h2 class="text-xl font-semibold text-white mb-4" data-i18n="ratelimit.title">â±ï¸ é€Ÿç‡é™åˆ¶</h2>
            <p class="text-gray-300" data-i18n="ratelimit.desc">æ¯ä¸ª API Key æ¯ 15 åˆ†é’Ÿæœ€å¤š 100 æ¬¡è¯·æ±‚ã€‚</p>
        </div>

        <!-- éªŒè¯ -->
        <div class="mt-8 p-6 rounded-lg border border-gray-800 bg-gray-900/50">
            <h2 class="text-xl font-semibold text-white mb-4" data-i18n="verify.title">ğŸ” è®°å½•éªŒè¯</h2>
            <p class="text-gray-300 mb-3" data-i18n="verify.desc">æ¯æ¡è®°å½•çš„ OTS è¯æ˜å¯ç”¨ä»¥ä¸‹æ–¹å¼éªŒè¯ï¼š</p>
            <pre class="bg-gray-800 p-3 rounded text-sm text-gray-300"><code># å®‰è£… OTS å®¢æˆ·ç«¯
pip3 install opentimestamps-client

# éªŒè¯è¯æ˜
ots verify record.json.ots

# æŸ¥çœ‹è¯æ˜ä¿¡æ¯
ots info record.json.ots</code></pre>
        </div>

        <!-- åº•éƒ¨ -->
        <div class="mt-12 text-center text-sm text-gray-600">
            <a href="/" class="hover:text-gray-400 mx-3">é¦–é¡µ</a>
            <a href="/console.html" class="hover:text-gray-400 mx-3">æ§åˆ¶å°</a>
            <a href="/lookup.html" class="hover:text-gray-400 mx-3">æŸ¥è¯¢</a>
            <a href="https://github.com/schchit/hjs-api" class="hover:text-gray-400 mx-3">GitHub</a>
        </div>
    </div>

    <script>
        const translations = {
            zh: {
                'auth.title': 'ğŸ”‘ è®¤è¯æ–¹å¼',
                'auth.desc': 'æ‰€æœ‰ API è¯·æ±‚éƒ½éœ€è¦åœ¨ Header ä¸­æºå¸¦ API Keyï¼š',
                'auth.note': 'åœ¨ å¼€å‘è€…æ§åˆ¶å° å¯ä»¥ç”Ÿæˆå’Œç®¡ç† API Keyã€‚',
                'endpoint.post.desc': 'è®°å½•ä¸€æ¡åˆ¤æ–­äº‹ä»¶ï¼Œè¿”å›å”¯ä¸€çš„è®°å½• IDã€‚',
                'endpoint.get.desc': 'æ ¹æ® ID æŸ¥è¯¢å®Œæ•´çš„åˆ¤æ–­è®°å½•ã€‚',
                'endpoint.json.desc': 'ä¸‹è½½ JSON æ ¼å¼çš„è®°å½•æ–‡ä»¶ã€‚',
                'endpoint.pdf.desc': 'ä¸‹è½½å¸¦äºŒç»´ç çš„ PDF æ ¼å¼è®°å½•æ–‡ä»¶ï¼Œé€‚åˆæ‰“å°å’Œå­˜æ¡£ã€‚',
                'endpoint.list.desc': 'åˆ†é¡µæŸ¥è¯¢è®°å½•åˆ—è¡¨ï¼Œæ”¯æŒæŒ‰å®ä½“å’Œæ—¶é—´ç­›é€‰ã€‚',
                'endpoint.export.desc': 'ä¸‹è½½ç­›é€‰åçš„è®°å½•åˆ—è¡¨ä¸º JSON æ–‡ä»¶ã€‚',
                'endpoint.proof.desc': 'ä¸‹è½½ OpenTimestamps è¯æ˜æ–‡ä»¶ï¼ˆ.otsï¼‰ï¼Œå¯ç”¨äºç‹¬ç«‹éªŒè¯ã€‚',
                'common.headers': 'è¯·æ±‚å¤´',
                'common.body': 'è¯·æ±‚ä½“',
                'common.response': 'å“åº”ç¤ºä¾‹',
                'errors.title': 'âš ï¸ é”™è¯¯ç ',
                'ratelimit.title': 'â±ï¸ é€Ÿç‡é™åˆ¶',
                'ratelimit.desc': 'æ¯ä¸ª API Key æ¯ 15 åˆ†é’Ÿæœ€å¤š 100 æ¬¡è¯·æ±‚ã€‚',
                'verify.title': 'ğŸ” è®°å½•éªŒè¯',
                'verify.desc': 'æ¯æ¡è®°å½•çš„ OTS è¯æ˜å¯ç”¨ä»¥ä¸‹æ–¹å¼éªŒè¯ï¼š',
            },
            en: {
                'auth.title': 'ğŸ”‘ Authentication',
                'auth.desc': 'All API requests require an API key in the header:',
                'auth.note': 'Generate and manage API keys in the Developer Console.',
                'endpoint.post.desc': 'Record a judgment event, returns a unique record ID.',
                'endpoint.get.desc': 'Retrieve a complete judgment record by ID.',
                'endpoint.json.desc': 'Download the record as a JSON file.',
                'endpoint.pdf.desc': 'Download a formatted PDF with QR code, suitable for printing.',
                'endpoint.list.desc': 'Paginated list of records with optional filters.',
                'endpoint.export.desc': 'Download filtered list as JSON.',
                'endpoint.proof.desc': 'Download OpenTimestamps proof file (.ots) for verification.',
                'common.headers': 'Headers',
                'common.body': 'Request Body',
                'common.response': 'Response Example',
                'errors.title': 'âš ï¸ Error Codes',
                'ratelimit.title': 'â±ï¸ Rate Limiting',
                'ratelimit.desc': '100 requests per 15-minute window per API key.',
                'verify.title': 'ğŸ” Record Verification',
                'verify.desc': 'Verify OTS proofs using:',
            }
        };

        function switchLang(lang) {
            document.getElementById('lang-zh').className = lang === 'zh' 
                ? 'lang-btn px-3 py-1 rounded-md bg-teal-600 text-white text-sm hover:bg-teal-700'
                : 'lang-btn px-3 py-1 rounded-md bg-gray-800 text-gray-300 text-sm hover:bg-gray-700';
            
            document.getElementById('lang-en').className = lang === 'en'
                ? 'lang-btn px-3 py-1 rounded-md bg-teal-600 text-white text-sm hover:bg-teal-700'
                : 'lang-btn px-3 py-1 rounded-md bg-gray-800 text-gray-300 text-sm hover:bg-gray-700';

            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    el.textContent = translations[lang][key];
                }
            });

            document.getElementById('page-title').textContent = lang === 'zh' ? 'HJS API æ–‡æ¡£' : 'HJS API Documentation';
            document.getElementById('page-subtitle').textContent = lang === 'zh' ? 'è´£ä»»è¿½æº¯åè®® Â· å®ç°å±‚æœåŠ¡' : 'Responsibility Tracing Protocol Â· Implementation Layer';
        }
    </script>
</body>
</html>
