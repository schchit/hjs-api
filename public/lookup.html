<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HJS Â· Record Verification</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:wght@400;500;600&display=swap');
        * { font-family: 'Inter', system-ui, sans-serif; }
        .font-mono, code, pre { font-family: 'JetBrains Mono', monospace !important; }
        body { background: #0a0a0a; color: #e5e5e5; min-height: 100vh; }
        html { scroll-behavior: smooth; overflow-y: scroll; }
        .text-steel { color: #3B4B5C; }
        .border-steel { border-color: #3B4B5C; }
        .bg-steel\/10 { background-color: rgba(59, 75, 92, 0.1); }
        .bg-steel\/20 { background-color: rgba(59, 75, 92, 0.2); }
        .hover\:bg-steel\/20:hover { background-color: rgba(59, 75, 92, 0.2); }
        .bg-card { background: rgba(26, 26, 26, 0.5); }
        .border-border { border-color: #1f1f1f; }
        .text-muted-foreground { color: #9ca3af; }
        .text-foreground { color: #e5e5e5; }
        .bg-background { background: #0a0a0a; }
        .hover\:border-steel:hover { border-color: #3B4B5C; }
        .hover\:text-foreground:hover { color: #e5e5e5; }
        .disabled\:opacity-40:disabled { opacity: 0.4; }
        .disabled\:cursor-not-allowed:disabled { cursor: not-allowed; }
        .focus\:border-steel:focus { border-color: #3B4B5C; }
        
        /* JSON è¯­æ³•é«˜äº® */
        .json-key { color: #3B4B5C; }
        .json-string { color: #f9c096; }
        .json-number { color: #96c0f9; }
        .json-boolean { color: #f996b5; }
        .json-null { color: #b096f9; }
        
        /* åŠ¨ç”» */
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        
        /* åœ†è§’ */
        .rounded-sm { border-radius: 0.125rem; }
        /* é˜²æ­¢é¡µé¢è·³åŠ¨ */n        html { overflow-y: scroll; }n        body { min-height: 100vh; display: flex; flex-direction: column; }
    
        /* ç»Ÿä¸€å¯¼èˆªæ æ ·å¼ */
        nav {
            display: flex;
            justify-content: flex-start; gap: 3rem;
            align-items: center;
            padding-top: 1.5rem;
            padding-bottom: 1.5rem;
        }
        nav a:first-child {
            font-size: 1.125rem;
            font-weight: 600;
            color: white;
            flex-shrink: 0;
            text-decoration: none;
        }
        nav .nav-links {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
        @media (min-width: 768px) {
            nav .nav-links {
                gap: 2rem;
            }
        }
        nav .nav-link {
            color: #9ca3af;
            font-size: 1rem;
            text-decoration: none;
            transition: color 0.2s;
            white-space: nowrap;
        }
        nav .nav-link:hover {
            color: #5ee0c0;
        }
        nav .nav-link.active {
            color: white;
        }
        nav select {
            background: transparent;
            color: #9ca3af;
            font-size: 0.75rem;
            border: none;
            cursor: pointer;
            flex-shrink: 0;
            margin-left: 1rem;
        }
        /* é˜²æ­¢è¯­è¨€é—ªçƒ */
        body { opacity: 0; transition: opacity 0.1s; }
        body.translated { opacity: 1; }
    </style>
<script>
        // è¯­è¨€è®¾ç½®ï¼šURLå‚æ•° > ç”¨æˆ·é€‰æ‹© > æµè§ˆå™¨è¯­è¨€ > é»˜è®¤è‹±æ–‡
        (function() {
            const urlParams = new URLSearchParams(window.location.search);
            const urlLang = urlParams.get('lang');
            const savedLang = localStorage.getItem('hjs_lang');
            const browserLang = navigator.language || navigator.userLanguage;
            
            // ç¡®å®šè¯­è¨€ä¼˜å…ˆçº§
            let lang;
            if (urlLang) {
                // URLå‚æ•°ä¼˜å…ˆçº§æœ€é«˜
                lang = urlLang;
                localStorage.setItem('hjs_lang', lang);
            document.documentElement.lang = lang;
                // æ¸…ç†URLå‚æ•°
                const url = new URL(window.location);
                url.searchParams.delete('lang');
                window.history.replaceState({}, '', url);
            } else if (savedLang) {
                // ç”¨æˆ·ä½¿ç”¨æ‰‹åŠ¨é€‰æ‹©çš„è¯­è¨€ï¼ˆä¼˜å…ˆçº§ç¬¬äºŒï¼‰
                lang = savedLang;
            } else {
                // é¦–æ¬¡è®¿é—®ï¼Œæ ¹æ®æµè§ˆå™¨è¯­è¨€
                lang = browserLang.toLowerCase().startsWith('zh') ? 'zh' : 'en';
                localStorage.setItem('hjs_lang', lang);
            document.documentElement.lang = lang;
            }
            
            // è®¾ç½®HTML langå±æ€§
            document.documentElement.lang = lang;
            document.documentElement.setAttribute('data-initial-lang', lang);
        })();
    </script>
</head>
<body>
    <div class="mx-auto max-w-4xl px-6 pt-12 pb-12">
        <!-- ===== å¯¼èˆªæ  ===== -->
        <!-- å¯¼èˆªæ  -->
        <!-- å¯¼èˆªæ  -->
        <div class="flex items-center py-6 text-base gap-8">
            <a href="/" class="text-white font-semibold text-lg flex-shrink-0">HJS</a>
            <div class="flex gap-6 md:gap-8 text-gray-400">
                <a href="/" class="hover:text-teal-400 transition" data-i18n="nav_home">Home</a>
                <a href="/product.html" class="hover:text-teal-400 transition" data-i18n="nav_product">Product</a>
                <a href="/developers.html" class="hover:text-teal-400 transition" data-i18n="nav_developers">Developers</a>
                <a href="/console.html" class="hover:text-teal-400 transition" data-i18n="nav_console">Console</a>
                <a href="/lookup.html" class="text-white" data-i18n="nav_lookup">Lookup</a>
                <a href="/billing.html" class="hover:text-teal-400 transition" data-i18n="nav_billing">Billing</a>
                <a href="/roi-calculator.html" class="hover:text-teal-400 transition" data-i18n="nav_roi">ROI</a>
                <a href="/governance.html" class="hover:text-teal-400 transition" data-i18n="nav_governance">Governance</a>
            </div>
            <select onchange="switchLang(this.value)" class="bg-transparent text-gray-400 text-xs ml-auto">
                <option value="en">EN</option>
                <option value="zh">ä¸­æ–‡</option>
            </select>
        </div>

        <!-- Header -->
        <section class="py-24">
            <p class="mb-4 font-mono text-xs text-gray-500" data-i18n="lk_version_tag">
                HJS Responsibility Protocol Â· v1.0 Beta
            </p>
            <h1 class="mt-6 text-3xl font-light leading-tight tracking-tight text-white md:text-4xl" data-i18n="lk_title">
                Record Verification
            </h1>
            <p class="mt-6 max-w-2xl text-sm leading-relaxed text-gray-400" data-i18n="lk_subtitle">
                Enter a record ID to inspect its structural validity and integrity proof.
            </p>
        </section>

        <hr class="border-gray-800">

        <!-- Query Card -->
        <section class="py-12">
            <div class="rounded-sm border border-gray-800 bg-card p-6">
                <!-- Input + Button -->
                <div class="flex flex-col gap-3 sm:flex-row">
                    <input
                        type="text"
                        id="record-id"
                        placeholder="jgd_xxx"
                        class="flex-1 border border-gray-800 bg-[#1a1a1a] px-4 py-2.5 font-mono text-sm text-white placeholder:text-gray-500 outline-none transition-colors focus:border-steel"
                    />
                    <button
                        id="lookup-btn"
                        class="inline-flex items-center justify-center border border-steel bg-steel/10 px-5 py-2 text-sm font-medium text-white transition-colors hover:bg-steel/20 disabled:cursor-not-allowed disabled:opacity-40"
                        data-i18n="lk_button"
                    >
                        Lookup
                    </button>
                </div>

                <!-- Example IDs -->
                <div class="mt-4">
                    <span class="text-xs text-gray-400" data-i18n="lk_examples">Examples:</span>
                    <div class="mt-2 flex flex-wrap gap-2">
                        <button class="example-id border border-gray-800 px-3 py-1.5 font-mono text-xs text-steel transition-colors hover:border-steel" data-id="jgd_1771313790343osf2">
                            jgd_1771...osf2
                        </button>
                        <button class="example-id border border-gray-800 px-3 py-1.5 font-mono text-xs text-steel transition-colors hover:border-steel" data-id="jgd_1771312310200pbtx">
                            jgd_1771...pbtx
                        </button>
                        <button class="example-id border border-gray-800 px-3 py-1.5 font-mono text-xs text-steel transition-colors hover:border-steel" data-id="jgd_1771309413724aqeh">
                            jgd_1771...aqeh
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Loading -->
        <div id="loading" class="hidden flex items-center justify-center py-16">
            <svg class="size-5 animate-spin text-gray-400" viewBox="0 0 24 24" fill="none">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z" />
            </svg>
            <span class="ml-3 text-sm text-gray-400" data-i18n="lk_loading">Loading...</span>
        </div>

        <!-- Error -->
        <div id="error" class="hidden mb-8 border border-red-800 bg-red-900/10 px-5 py-4 font-mono text-xs text-red-400"></div>

        <!-- Result -->
        <div id="result" class="hidden pb-24">
            <!-- 2x2 Indicator Grid -->
            <div class="mb-10">
                <h3 class="mb-4 text-[10px] font-medium tracking-widest text-gray-400 uppercase" data-i18n="lk_indicators">VERIFICATION RESULT</h3>
                <div class="grid grid-cols-2 gap-px overflow-hidden rounded-sm border border-gray-800 bg-gray-800">
                    <div class="flex flex-col gap-1 bg-card p-5">
                        <span class="text-[10px] tracking-widest text-gray-400 uppercase" data-i18n="lk_ind_validity">STRUCTURAL VALIDITY</span>
                        <span id="validity-value" class="font-mono text-sm font-bold text-white">N/A</span>
                    </div>
                    <div class="flex flex-col gap-1 bg-card p-5">
                        <span class="text-[10px] tracking-widest text-gray-400 uppercase" data-i18n="lk_ind_depth">DELEGATION DEPTH</span>
                        <span id="depth-value" class="font-mono text-sm font-bold text-white">0</span>
                    </div>
                    <div class="flex flex-col gap-1 bg-card p-5">
                        <span class="text-[10px] tracking-widest text-gray-400 uppercase" data-i18n="lk_ind_termination">TERMINATION STATUS</span>
                        <span id="termination-value" class="font-mono text-sm font-bold text-white">N/A</span>
                    </div>
                    <div class="flex flex-col gap-1 bg-card p-5">
                        <span class="text-[10px] tracking-widest text-gray-400 uppercase" data-i18n="lk_ind_anchor">ANCHOR STATUS</span>
                        <span id="anchor-value" class="font-mono text-sm font-bold text-white">none</span>
                    </div>
                </div>
            </div>

            <!-- Evidence Package Info -->
            <div class="mb-6 p-4 bg-gray-800/30 rounded border-l-2 border-steel">
                <h4 class="text-xs font-medium text-steel mb-2 uppercase tracking-wider">ğŸ“¦ EVIDENCE PACKAGE</h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-2 text-xs">
                    <div class="flex items-center gap-2">
                        <span class="text-gray-500">JSON</span>
                        <span class="text-gray-400">Raw structured data</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-gray-500">PDF</span>
                        <span class="text-gray-400">With QR code, ready to print</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-gray-500">OTS</span>
                        <span class="text-gray-400">Blockchain proof (anchor required)</span>
                    </div>
                </div>
            </div>

            <!-- Full JSON -->
            <div class="mb-10">
                <h3 class="mb-4 text-[10px] font-medium tracking-widest text-gray-400 uppercase" data-i18n="lk_json_heading">FULL RECORD</h3>
                <pre id="json-display" class="overflow-x-auto border border-gray-800 bg-[#1a1a1a] p-5 font-mono text-xs leading-relaxed"></pre>
            </div>

            <!-- Download Buttons (ç»Ÿä¸€ä½¿ç”¨ fetch) -->
            <div class="mb-10">
                <h3 class="mb-4 text-[10px] font-medium tracking-widest text-gray-400 uppercase" data-i18n="lk_download_heading">DOWNLOAD EVIDENCE PACKAGE</h3>
                <div class="flex flex-wrap gap-3">
                    <button id="download-json" 
                            class="download-btn relative border border-gray-700 px-4 py-2 text-xs text-gray-400 transition-colors hover:border-steel hover:text-white disabled:opacity-40 disabled:cursor-not-allowed min-w-[80px]"
                            data-format="json">
                        JSON
                    </button>
                    <button id="download-pdf" 
                            class="download-btn relative border border-gray-700 px-4 py-2 text-xs text-gray-400 transition-colors hover:border-steel hover:text-white disabled:opacity-40 disabled:cursor-not-allowed min-w-[80px]"
                            data-format="pdf">
                        PDF
                    </button>
                    <button id="download-ots" 
                            class="download-btn relative border border-gray-700 px-4 py-2 text-xs text-gray-400 transition-colors hover:border-steel hover:text-white disabled:opacity-40 disabled:cursor-not-allowed min-w-[80px]"
                            data-format="ots">
                        OTS Proof
                    </button>
                </div>
                <div id="download-status" class="mt-2 text-xs text-gray-500"></div>
            </div>
        </div>

        <!-- Empty state -->
        <div id="empty-state" class="border-t border-dashed border-gray-800 py-24 text-center">
            <p class="mx-auto max-w-md text-sm leading-relaxed text-gray-400" data-i18n="lk_empty">
                Enter a judgment record ID above to retrieve its details. You can download results as JSON, PDF, or OTS proof.
            </p>
        </div>

        <!-- ===== åº•éƒ¨ ===== -->
        <div class="text-center text-xs text-gray-600 pt-10 border-t border-gray-800 mt-12">
            <a href="https://github.com/schchit/hjs-api" class="hover:text-gray-400 mx-2">GitHub</a>
            <span class="text-gray-700">Â·</span>
            <a href="/spec/README.md" class="hover:text-gray-400 mx-2">Spec</a>
            <span class="text-gray-700">Â·</span>
            <a href="/cases.html" class="hover:text-gray-400 mx-2">Cases</a>
        </div>
    </div>

    <!-- ===== å…¨å±€è¯­è¨€å±‚ ===== -->
    <script src="/js/lang.js"></script>
    <script>
        // API åŸºç¡€åœ°å€ - ç¡®ä¿è¿™ä¸¤ä¸ªå¸¸é‡å­˜åœ¨
        const API_BASE = 'https://hjs-api.onrender.com';
        const PUBLIC_API_KEY = 'ced6bf0b4f9a0a53aa056456e0528fc7ea3d3bd883c5318542ff956241ea5817';

        // ===== DOM å…ƒç´  =====
        const input = document.getElementById('record-id');
        const lookupBtn = document.getElementById('lookup-btn');
        const loadingDiv = document.getElementById('loading');
        const errorDiv = document.getElementById('error');
        const resultDiv = document.getElementById('result');
        const emptyState = document.getElementById('empty-state');
        const downloadStatus = document.getElementById('download-status');
        
        // ç»“æœå…ƒç´ 
        const validityValue = document.getElementById('validity-value');
        const depthValue = document.getElementById('depth-value');
        const terminationValue = document.getElementById('termination-value');
        const anchorValue = document.getElementById('anchor-value');
        const jsonDisplay = document.getElementById('json-display');
        
        // ä¸‹è½½æŒ‰é’®
        const downloadJson = document.getElementById('download-json');
        const downloadPdf = document.getElementById('download-pdf');
        const downloadOts = document.getElementById('download-ots');

        // ç¤ºä¾‹ID
        const exampleBtns = document.querySelectorAll('.example-id');

        // å½“å‰æŸ¥è¯¢ç»“æœ
        let currentResult = null;

        // ===== å·¥å…·å‡½æ•°ï¼šæ˜¾ç¤ºä¸‹è½½çŠ¶æ€ =====
        function setDownloading(button, isLoading) {
            if (isLoading) {
                button.disabled = true;
                button.innerHTML = '<span class="opacity-0">â—</span><span class="absolute inset-0 flex items-center justify-center"><svg class="animate-spin h-4 w-4" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"/><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"/></svg></span>';
            } else {
                button.disabled = false;
                button.innerHTML = button.getAttribute('data-format') === 'json' ? 'JSON' : 
                                  button.getAttribute('data-format') === 'pdf' ? 'PDF' : 'OTS Proof';
            }
        }

        function showStatus(message, isError = false) {
            downloadStatus.textContent = message;
            downloadStatus.className = `mt-2 text-xs ${isError ? 'text-red-400' : 'text-gray-500'}`;
            setTimeout(() => {
                downloadStatus.textContent = '';
            }, 3000);
        }

        // ===== JSON è¯­æ³•é«˜äº® =====
        function highlightJson(obj) {
            if (obj === null) return '<span class="json-null">null</span>';
            if (typeof obj === 'boolean') return `<span class="json-boolean">${obj}</span>`;
            if (typeof obj === 'number') return `<span class="json-number">${obj}</span>`;
            if (typeof obj === 'string') return `<span class="json-string">"${obj}"</span>`;
            if (Array.isArray(obj)) {
                if (obj.length === 0) return '[]';
                let html = '[<br>';
                obj.forEach((item, i) => {
                    html += '  ' + highlightJson(item);
                    if (i < obj.length - 1) html += ',';
                    html += '<br>';
                });
                html += ']';
                return html;
            }
            if (typeof obj === 'object') {
                const entries = Object.entries(obj);
                if (entries.length === 0) return '{}';
                let html = '{<br>';
                entries.forEach(([key, value], i) => {
                    html += `  <span class="json-key">"${key}"</span>: ${highlightJson(value)}`;
                    if (i < entries.length - 1) html += ',';
                    html += '<br>';
                });
                html += '}';
                return html;
            }
            return String(obj);
        }

        // ===== æŸ¥è¯¢è®°å½• =====
        async function lookupRecord(id) {
            if (!id) return;
            
            loadingDiv.classList.remove('hidden');
            errorDiv.classList.add('hidden');
            resultDiv.classList.add('hidden');
            emptyState.classList.add('hidden');
            
            try {
                const res = await fetch(`${API_BASE}/judgments/${id}`, {
                    headers: {
                        'X-API-Key': PUBLIC_API_KEY
                    }
                });
                
                if (!res.ok) {
                    throw new Error(`Record not found: ${id}`);
                }
                
                const data = await res.json();
                currentResult = data;
                
                // æ›´æ–°æŒ‡æ ‡ï¼ˆé€‚é…å®é™…è¿”å›çš„æ•°æ®ï¼‰
                validityValue.textContent = data.structural_validity || 'N/A';
                depthValue.textContent = data.delegation_depth || '0';
                terminationValue.textContent = data.termination_status || 'N/A';
                anchorValue.textContent = data.immutability_anchor?.type || 'none';
                
                // æ›´æ–°JSONæ˜¾ç¤º
                jsonDisplay.innerHTML = highlightJson(data);
                
                // æ›´æ–°OTSæŒ‰é’®çŠ¶æ€
                downloadOts.disabled = data.immutability_anchor?.type !== 'ots';
                
                loadingDiv.classList.add('hidden');
                resultDiv.classList.remove('hidden');
                
            } catch (err) {
                loadingDiv.classList.add('hidden');
                errorDiv.textContent = err.message;
                errorDiv.classList.remove('hidden');
                emptyState.classList.add('hidden');
            }
        }

        // ===== ä¸‹è½½åŠŸèƒ½ï¼ˆç»Ÿä¸€ä½¿ç”¨ fetchï¼Œé¿å…å¼¹çª—æ‹¦æˆªï¼‰ =====
        downloadJson.addEventListener('click', async () => {
            if (!currentResult) return;
            
            setDownloading(downloadJson, true);
            
            try {
                const blob = new Blob([JSON.stringify(currentResult, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `${currentResult.id}.json`;
                a.click();
                URL.revokeObjectURL(url);
                showStatus('âœ… JSON downloaded');
            } catch (err) {
                showStatus('âŒ Download failed', true);
            } finally {
                setDownloading(downloadJson, false);
            }
        });

        downloadPdf.addEventListener('click', async () => {
            if (!currentResult) return;
            
            setDownloading(downloadPdf, true);
            
            try {
                const res = await fetch(`${API_BASE}/judgments/${currentResult.id}?format=pdf`, {
                    headers: { 'X-API-Key': PUBLIC_API_KEY }
                });
                
                if (!res.ok) throw new Error(`HTTP ${res.status}`);
                
                const blob = await res.blob();
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `${currentResult.id}.pdf`;
                a.click();
                URL.revokeObjectURL(url);
                showStatus('âœ… PDF downloaded');
            } catch (err) {
                showStatus('âŒ PDF download failed', true);
            } finally {
                setDownloading(downloadPdf, false);
            }
        });

        downloadOts.addEventListener('click', async () => {
            if (!currentResult) return;
            
            const anchorType = currentResult.immutability_anchor?.type;
            if (anchorType !== 'ots') {
                showStatus('âŒ OTS not available for this record', true);
                return;
            }
            
            setDownloading(downloadOts, true);
            
            try {
                const res = await fetch(`${API_BASE}/judgments/${currentResult.id}/immutability-proof`, {
                    headers: { 'X-API-Key': PUBLIC_API_KEY }
                });
                
                if (!res.ok) throw new Error(`HTTP ${res.status}`);
                
                // è·å–æ–‡ä»¶åï¼ˆåç«¯å¯èƒ½è¿”å› Content-Dispositionï¼‰
                const contentDisposition = res.headers.get('Content-Disposition');
                let filename = `${currentResult.id}.ots`;
                if (contentDisposition) {
                    const match = contentDisposition.match(/filename="?([^"]+)"?/);
                    if (match) filename = match[1];
                }
                
                const blob = await res.blob();
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                a.click();
                URL.revokeObjectURL(url);
                showStatus('âœ… OTS downloaded');
            } catch (err) {
                showStatus('âŒ OTS download failed', true);
            } finally {
                setDownloading(downloadOts, false);
            }
        });

        // ===== äº‹ä»¶ç»‘å®š =====
        lookupBtn.addEventListener('click', () => {
            lookupRecord(input.value.trim());
        });

        input.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                lookupRecord(input.value.trim());
            }
        });

        exampleBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const id = btn.getAttribute('data-id');
                input.value = id;
                lookupRecord(id);
            });
        });

        // ===== ä»URLå‚æ•°è‡ªåŠ¨æŸ¥è¯¢ =====
        (function() {
            const urlParams = new URLSearchParams(window.location.search);
            const id = urlParams.get('id');
            if (id) {
                input.value = id;
                lookupRecord(id);
            }
        })();

        // ===== ç¿»è¯‘å­—å…¸ =====
        const translations = {
            en: {
                nav_home: "Home",
                nav_product: "Product",
                nav_developers: "Developers",
                nav_console: "Console",
                nav_lookup: "Lookup",
                nav_billing: "Billing",
                nav_roi: "ROI",
                nav_governance: "Governance",
                lk_version_tag: "HJS Responsibility Protocol Â· v1.0 Beta",
                lk_title: "Record Verification",
                lk_subtitle: "Enter a record ID to inspect its structural validity and integrity proof.",
                lk_examples: "Examples:",
                lk_loading: "Loading...",
                lk_button: "Lookup",
                lk_indicators: "VERIFICATION RESULT",
                lk_ind_validity: "STRUCTURAL VALIDITY",
                lk_ind_depth: "DELEGATION DEPTH",
                lk_ind_termination: "TERMINATION STATUS",
                lk_ind_anchor: "ANCHOR STATUS",
                lk_json_heading: "FULL RECORD",
                lk_download_heading: "DOWNLOAD EVIDENCE PACKAGE",
                lk_empty: "Enter a judgment record ID above to retrieve its details. You can download results as JSON, PDF, or OTS proof."
            },
            zh: {
                nav_home: "é¦–é¡µ",
                nav_product: "äº§å“",
                nav_developers: "å¼€å‘è€…",
                nav_console: "æ§åˆ¶å°",
                nav_lookup: "æŸ¥è¯¢",
                nav_billing: "è®¡è´¹",
                nav_roi: "ROI",
                nav_governance: "æ²»ç†",
                lk_version_tag: "HJS è´£ä»»åè®® Â· v1.0 Beta",
                lk_title: "è®°å½•éªŒè¯",
                lk_subtitle: "è¾“å…¥è®°å½•IDï¼Œæ£€æŸ¥å…¶ç»“æ„æœ‰æ•ˆæ€§å’Œå®Œæ•´æ€§è¯æ˜ã€‚",
                lk_examples: "ç¤ºä¾‹ï¼š",
                lk_loading: "åŠ è½½ä¸­...",
                lk_button: "æŸ¥è¯¢",
                lk_indicators: "éªŒè¯ç»“æœ",
                lk_ind_validity: "ç»“æ„æœ‰æ•ˆæ€§",
                lk_ind_depth: "æˆæƒæ·±åº¦",
                lk_ind_termination: "ç»ˆæ­¢çŠ¶æ€",
                lk_ind_anchor: "é”šå®šçŠ¶æ€",
                lk_json_heading: "å®Œæ•´è®°å½•",
                lk_download_heading: "ä¸‹è½½è¯æ®åŒ…",
                lk_empty: "è¾“å…¥è®°å½•IDæŸ¥è¯¢è¯¦æƒ…ã€‚å¯ä¸‹è½½ JSONã€PDF æˆ– OTS è¯æ˜æ–‡ä»¶ã€‚"
            }
        };

        function switchLang(lang) {
            localStorage.setItem('hjs_lang', lang);
            document.documentElement.lang = lang;
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    el.innerHTML = translations[lang][key];
                }
            });
            const select = document.querySelector('select');
            if (select) select.value = lang;
        }

        (function() {
            const urlParams = new URLSearchParams(window.location.search);
            const urlLang = urlParams.get('lang');
            let lang;
            
            if (urlLang) {
                // URLå‚æ•°ä¼˜å…ˆçº§æœ€é«˜
                lang = urlLang;
                localStorage.setItem('hjs_lang', lang);
            document.documentElement.lang = lang;
                // æ¸…ç†URLå‚æ•°
                const url = new URL(window.location);
                url.searchParams.delete('lang');
                window.history.replaceState({}, '', url);
            } else if (localStorage.getItem('hjs_lang')) {
                // ç”¨æˆ·å·²é€‰æ‹©ï¼Œå›ºå®šä½¿ç”¨
                lang = localStorage.getItem('hjs_lang');
            } else {
                // ç¬¬ä¸€æ¬¡è®¿é—®ï¼šæ£€æµ‹æµè§ˆå™¨è¯­è¨€
                const browserLang = navigator.language || navigator.userLanguage;
                lang = browserLang.toLowerCase().startsWith('zh') ? 'zh' : 'en';
                localStorage.setItem('hjs_lang', lang);
            document.documentElement.lang = lang;
            }
            
            switchLang(lang);
            document.body.classList.add('translated');
        })();
    </script>

</body>
</html>